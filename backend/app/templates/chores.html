{% extends "layout.html" %}
{% block content %}
  <h2>Chores</h2>
  <form method="post">
    <div class="chore-columns">
      {% for cat,label in [
        ('Daily','Daily Chores'),
        ('Weekly','Weekly Chores'),
        ('Monthly','Monthly Chores'),
        ('As Needed','As Needed Chores')
      ] %}
        <section class="chore-column" aria-labelledby="heading-{{ cat|lower|replace(' ', '-') }}">
          <h3 id="heading-{{ cat|lower|replace(' ', '-') }}">{{ label }}</h3>
          {% for chore in chores if chore.category == cat %}
            <div class="chore-item">
              <input
                type="checkbox"
                id="chore{{ chore.id }}"
                name="chore"
                value="{{ chore.id }}">
              <label for="chore{{ chore.id }}">
                <span class="chore-name">{{ chore.name }}</span>
                <span class="badge">{{ chore.points }} pts</span>
              </label>
            </div>
          {% else %}
            <p>No chores in this category yet.</p>
          {% endfor %}
        </section>
      {% endfor %}
    </div>
    <div style="margin-top:1rem;display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-end">
      <button type="submit">Submit Completed</button>
      <fieldset style="border:1px solid #ccc;padding:0.75rem;border-radius:8px">
        <legend>Add New Chore</legend>
        <label>
          Name:
          <input type="text" name="new_chore_name" placeholder="Chore name">
        </label>
        <label>
          Category:
          <select name="new_chore_category">
            <option value="">Selectâ€¦</option>
            <option value="Daily">Daily</option>
            <option value="Weekly">Weekly</option>
            <option value="Monthly">Monthly</option>
            <option value="As Needed">As Needed</option>
          </select>
        </label>
        <label>
          Points:
          <input type="number" min="0" step="1" name="new_chore_points" style="width:6rem">
        </label>
        <button type="submit">Add Chore</button>
      </fieldset>
    </div>
  </form>
{% endblock %}
